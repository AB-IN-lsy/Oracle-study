CREATE USER
    S2019210173U1
    IDENTIFIED BY
    A123456;
CREATE USER
    S2019210173U2
    IDENTIFIED BY
    A123456;
CREATE USER
    S2019210173U3
    IDENTIFIED BY
    A123456;
CREATE USER
    S2019210173U4
    IDENTIFIED BY
    A123456;
CREATE USER
    S2019210173U5
    IDENTIFIED BY
    A123456;


GRANT SELECT
    ON STUDENT
    TO S2019210173U1;

GRANT ALL
    ON STUDENT
    TO S2019210173U2, S2019210173U3;

GRANT ALL
    ON COURSE
    TO S2019210173U2, S2019210173U3;

SELECT *
FROM STUDENT;

GRANT ALTER
    ON STUDENT
    TO S2019210173U4;
GRANT UPDATE
    ON STUDENT
    TO S2019210173U4;
GRANT DELETE
    ON STUDENT
    TO S2019210173U4;
GRANT INSERT
    ON STUDENT
    TO S2019210173U4;

UPDATE STUDENT
SET SNO = '201921011'
WHERE SNO = '201921017';


GRANT INSERT
    ON SC
    TO S2019210173U5;

SELECT *
FROM SC;

GRANT SELECT
    ON SC
    TO PUBLIC;

REVOKE UPDATE
    ON STUDENT
    FROM S2019210173U2;

REVOKE SELECT
    ON SC
    FROM PUBLIC;


REVOKE INSERT
    ON SC
    FROM S2019210173U5;

CREATE ROLE LSY;

GRANT SELECT
    ON SC
    TO LSY;

GRANT LSY
    TO S2019210173U2;

CREATE TABLE TEACHER
(
    TNO   INT PRIMARY KEY,
    TNAME VARCHAR(20) UNIQUE
);

CREATE TABLE STUDENT1
(
    SNO   INT PRIMARY KEY CHECK ( SNO > 9000 AND SNO < 9999 ),
    SAGE  INT CHECK ( SAGE < 29 ),
    SSEX  VARCHAR(2) CHECK ( SSEX IN ('男', '女')),
    SNAME VARCHAR(20) NOT NULL
);

ALTER TABLE STUDENT1
    MODIFY
        (SAGE CHECK ( SAGE < 40 ));

CREATE TABLE COURSE1
(
    CNO    INT PRIMARY KEY,
    TNO    INT REFERENCES TEACHER (TNO) ON DELETE SET NULL,
    CGRADE INT CHECK ( CGRADE <= 7 )
);

CREATE TABLE SC1
(
    SNO INT REFERENCES STUDENT1 (SNO) ON DELETE CASCADE,
    CNO INT REFERENCES COURSE1 (CNO) ON DELETE CASCADE,
    PRIMARY KEY (SNO, CNO)
);

INSERT INTO STUDENT1(SNO, SAGE, SSEX, SNAME)
VALUES (9020, 20, '男', '刘思远');